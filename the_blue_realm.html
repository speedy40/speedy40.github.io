<!DOCTYPE html>
<html lang="en">
<!-- Program exported to HTML using the KA Project Exporter by @MushyAvocado 
https://www.khanacademy.org/computer-programming/ka-project-exporter/5195486791385088
-->
	
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>the blue realm</title>
	<style>
		
		
		/* Change the color as you want */
		:root {
			--background-color: #000000;
		}
		
		
		html, body, #wrapper {
			overflow: hidden;
			width: 100%;
		    height: 100%;
			margin: 0px;
			padding: 0px;
		    width: calc(100% + 1px);
		}
		
		body {
		    background-color: var(--background-color);
		}
		
		
		canvas {
			width: fit-content;
			height: fit-content;
		}
		
		canvas:focus {
			outline: none;
		}
		
		/* Automatically fits to the remaining height and centers the canvas it contains */
		#wrapper {
			padding: 0px;
			margin: 0px;
			display: flex;
			justify-content: center;
			align-items: center;
			width: 100%;
		}
		
</style>
</head>
<body id="wrapper">
    <!-- Canvases with a class of "sketch" are applied to the program in the order runPJS() is called. -->
    <canvas class="sketch"></canvas>
	<!-- Load the PJS library -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Khan/processing-js@master/processing.js"></script>
	<!-- The exporter script must be loaded before the program script -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Mushy-Avocado/KA-exporter@v1.0.1/exporter.js"></script>
	<!-- Run Khan Academy program and import PJS -->
	<script type="application/javascript">
		
		
		function program() {
		    
		    title("the blue realm");
		    size(600, 400);
		    
		    // All code goes here
			/**
			*
			****level editor****
			* {
			https://www.khanacademy.org/computer-programming/the-blue-realm-level-editor/6698827612340224
			*}
			* 
			* 
			* 
			**/
			
			(function() {return this;})().LoopProtector.prototype.leave = function() {};
			//BlouRot's library {
			var keyClicked = false;
			var mouseIsClicked = false;
			smooth();
			mouseClicked = function() {
			    mouseIsClicked = true;
			};
			
			function mouseClick() {
			    if (mouseIsClicked) {
			        mouseIsClicked = false; // Reset the variable after handling the click
			        return true;
			    }
			    return false;
			}
			function keyClick(keyP) {
			    if(keyClicked && keyCode === keyP||keyClicked && key.toString() === keyP) {
			        keyClicked = false;
			        return true;
			    }
			    
			    return false;
			    
			    
			}
			
			var keyPress = false;
			keyPressed = function() {
			  keyPress=true;  
			};
			keyReleased = function() {
			  keyPress=false;  
			  keyClicked = true;
			};
			 
			var key_pressed = function(keyP) {
			    if(keyPress && keyCode === keyP||keyPress && key.toString() === keyP) {
			        return true;
			    }
			  else{return false;}
			        
			    
			};
			
			
			
			
			var mousePress = false;
			
			mousePressed=function() {
			    mousePress=true;
			    
			};
			mouseReleased = function() {
			    mousePress=false;
			};
			var mouseIn = function(x,y,w,h) {
			    if(mouseX>x&&mouseX<x+w&&mouseY>y&&mouseY<y+h) {
			     return true;   
			    }
			    else {
			     return false;   
			    }
			};
			
			var button = function(btn) {
			    this.x=btn.x||0;
			    this.y=btn.y||0;
			    this.w=btn.w||50;
			    this.h=btn.h||50;
			    this.onClick=btn.onClick||function(){};
			    this.icon=btn.icon||undefined;
			    
			};
			button.prototype.draw = function() {
			     
			      if(mousePress) {
			     if(mouseIn(this.x,this.y,this.w,this.h)) {
			      this.onClick();   
			     }
			     }  
			     image(this.icon,this.x,this.y,this.w,this.h);
			     if(mouseIn(this.x,this.y,this.w,this.h)) {
			      cursor("pointer");   
			     }
			    
			};
			
			
			
			//}
			
			var mouseIsPressed = false;
			   
			
			   smooth();
			   
			var pixel = function(message, x, y, size, colors, textWidth, textHeight) {
			    
			    //colors the specified colors
			    fill(colors);
			    stroke(colors);
			    
			    //moves to x and y
			    pushMatrix();
			    translate(x, y);
			    
			    //shinks to proper size, given most letters are 70 by 70
			    scale(size / 70);
			    
			    var letter; //which letter you are on
			    var letterX = -80; //the x pos of that letter (saying x and y are at (0, 0))
			    var letterY = 0; //the y pos of that letter (saying x and y are at (0, 0))
			    
			    //goes through each letter in the string
			    for (var a = 0; a < message.length; a ++) {
			        
			        //letter variable changes to the cooresponding letter
			        letter = message.charAt(a);
			        
			        //x pos increases by 80 to leave a 10 space (w/o scale) 
			        letterX += 80;
			        
			        //checks if the x value of the letter is going to be past the specified maximum
			        if (letterX > textWidth*70/size - 80) {
			            
			            //if so reset it to 0 
			            letterX = 0;
			            
			            //if the letter is a space
			            if (letter === " ") {
			                
			                letterX -= 50; //move the x pos of it back 50 (will move 30 later)
			                
			            }
			            
			            letterY += 80; //move a line down (leaving a 10 space)
			            
			        }
			        
			        //begin writing
			        pushMatrix();
			        
			        //move to x and y of the specific letter
			        translate(letterX, letterY);
			        
			        if (letter === "a" | letter === "b" | letter === "c" | letter === "d" | letter === "e" | letter === "f" | letter === "g" | letter === "h" | letter === "i" | letter === "j" | letter === "k" | letter === "l" | letter === "m" | letter === "n" | letter === "o" | letter === "p" | letter === "q" | letter === "r" | letter === "s" | letter === "t" | letter === "u" | letter === "v" | letter === "w" | letter === "x" | letter === "y" | letter === "z") {
			            
			            translate(0, 17);
			            scale(0.75);
			            
			        }
			        
			        //goes and checks through multiple numbers and symbols
			        if (letter === "a" | letter === "A") {
			            
			            rect(0, 20, 20, 20);
			            rect(0, 40, 70, 10);
			            rect(0, 50, 20, 20);
			            rect(10, 10, 20, 10);
			            rect(20, 0, 30, 10);
			            rect(40, 10, 20, 10);
			            rect(50, 20, 20, 20);
			            rect(50, 50, 20, 20);
			            
			        } else if (letter === "b" | letter === "B") {
			            
			            rect(0, 0, 60, 10);
			            rect(0, 10, 20, 20);
			            rect(0, 30, 60, 10);
			            rect(0, 40, 20, 20);
			            rect(0, 60, 60, 10);
			            rect(50, 10, 20, 20);
			            rect(50, 40, 20, 20);
			            
			        } else if (letter === "c" | letter === "C") {
			            
			            rect(0, 20, 20, 30);
			            rect(10, 10, 20, 10);
			            rect(10, 50, 20, 10);
			            rect(20, 0, 40, 10);
			            rect(20, 60, 40, 10);
			            rect(50, 10, 20, 10);
			            rect(50, 50, 20, 10);
			            
			        } else if (letter === "d" | letter === "D") {
			            
			            rect(0, 0, 50, 10);
			            rect(0, 10, 20, 50);
			            rect(0, 60, 50, 10);
			            rect(40, 10, 20, 10);
			            rect(40, 50, 20, 10);
			            rect(50, 20, 20, 30);
			            
			        } else if (letter === "e" | letter === "E") {
			            
			            rect(0, 0, 60, 10);
			            rect(0, 10, 20, 20);
			            rect(0, 30, 50, 10);
			            rect(0, 40, 20, 20);
			            rect(0, 60, 70, 10);
			            
			        } else if (letter === "f" | letter === "F") {
			            
			            rect(0, 0, 70, 10);
			            rect(0, 10, 20, 20);
			            rect(0, 30, 60, 10);
			            rect(0, 40, 20, 30);
			            
			        } else if (letter === "g" | letter === "G") {
			            
			            rect(0, 20, 20, 30);
			            rect(10, 10, 20, 10);
			            rect(10, 50, 20, 10);
			            rect(20, 0, 50, 10);
			            rect(20, 60, 50, 10);
			            rect(40, 30, 30, 10);
			            rect(50, 40, 20, 20);
			            
			        } else if (letter === "h" | letter === "H") {
			            
			            rect(0, 0, 20, 30);
			            rect(0, 30, 70, 10);
			            rect(0, 40, 20, 30);
			            rect(50, 0, 20, 30);
			            rect(50, 40, 20, 30);
			            
			        } else if (letter === "i" | letter === "I") {
			            
			            //enlarged (widened) pixels to create uniformity in 600 (10 by 11.5)
			            rect(0, 0, 70, 10);
			            rect(0, 60, 70, 10);
			            rect(23, 10, 23, 50);
			            
			        } else if (letter === "j" | letter === "J") {
			            
			            rect(0, 50, 20, 10);
			            rect(10, 60, 50, 10);
			            rect(50, 0, 20, 60);
			            
			        } else if (letter === "k" | letter === "K") {
			            
			            rect(0, 0, 20, 30);
			            rect(0, 30, 40, 10);
			            rect(0, 40, 50, 10);
			            rect(0, 50, 20, 20);
			            rect(30, 20, 20, 10);
			            rect(30, 50, 30, 10);
			            rect(40, 10, 20, 10);
			            rect(40, 60, 30, 10);
			            rect(50, 0, 20, 10);
			            
			        } else if (letter === "l" | letter === "L") {
			            
			            rect(0, 0, 20, 60);
			            rect(0, 60, 70, 10);
			            
			        } else if (letter === "m" | letter === "M") {
			            
			            rect(0, 0, 20, 10);
			            rect(0, 10, 30, 10);
			            rect(0, 20, 70, 10);
			            rect(0, 30, 20, 40);
			            rect(30, 30, 10, 10);
			            rect(40, 10, 30, 10);
			            rect(50, 0, 20, 10);
			            rect(50, 30, 20, 40);
			            
			        } else if (letter === "n" | letter === "N") {
			            
			            rect(0, 0, 20, 10);
			            rect(0, 10, 30, 10);
			            rect(0, 20, 40, 10);
			            rect(0, 30, 20, 40);
			            rect(30, 30, 40, 10);
			            rect(40, 40, 30, 10);
			            rect(50, 0, 20, 30);
			            rect(50, 50, 20, 20);
			            
			        } else if (letter === "o" | letter === "O") {
			            
			            rect(0, 10, 20, 50);
			            rect(10, 0, 50, 10);
			            rect(10, 60, 50, 10);
			            rect(50, 10, 20, 50);
			            
			        } else if (letter === "p" | letter === "P") {
			            
			            rect(0, 0, 60, 10);
			            rect(0, 10, 20, 30);
			            rect(0, 40, 60, 10);
			            rect(0, 50, 20, 20);
			            rect(50, 10, 20, 30);
			            
			        } else if (letter === "q" | letter === "Q") {
			            
			            rect(0, 10, 20, 50);
			            rect(10, 0, 50, 10);
			            rect(10, 60, 40, 10);
			            rect(30, 40, 40, 10);
			            rect(40, 50, 20, 10);
			            rect(50, 10, 20, 30);
			            rect(60, 60, 10, 10);
			            
			        } else if (letter === "r" | letter === "R") {
			            
			            rect(0, 0, 60, 10);
			            rect(0, 10, 20, 30);
			            rect(0, 40, 50, 10);
			            rect(0, 50, 20, 20);
			            rect(30, 50, 30, 10);
			            rect(40, 30, 20, 10);
			            rect(40, 60, 30, 10);
			            rect(50, 10, 20, 20);
			            
			        } else if (letter === "s" | letter === "S") {
			            
			            rect(0, 10, 20, 20);
			            rect(0, 50, 20, 10);
			            rect(10, 0, 40, 10);
			            rect(10, 30, 50, 10);
			            rect(10, 60, 50, 10);
			            rect(40, 10, 20, 10);
			            rect(50, 40, 20, 20);
			            
			        } else if (letter === "t" | letter === "T") {
			            
			            //just like when widening I, 10 to 11.5
			            rect(0, 0, 70, 10);
			            rect(23, 10, 23, 60);
			            
			        } else if (letter === "u" | letter === "U") {
			            
			            rect(0, 0, 20, 60);
			            rect(10, 60, 50, 10);
			            rect(50, 0, 20, 60);
			            
			        } else if (letter === "v" | letter === "V") {
			            
			            rect(0, 0, 20, 40);
			            rect(10, 40, 20, 10);
			            rect(20, 50, 30, 10);
			            rect(30, 60, 10, 10);
			            rect(40, 40, 20, 10);
			            rect(50, 0, 20, 40);
			            
			        } else if (letter === "w" | letter === "W") {
			            
			            rect(0, 0, 20, 30);
			            rect(0, 30, 70, 20);
			            rect(0, 50, 30, 10);
			            rect(0, 60, 20, 10);
			            rect(30, 20, 10, 10);
			            rect(40, 50, 30, 10);
			            rect(50, 0, 20, 30);
			            rect(50, 60, 20, 10);
			            
			        } else if (letter === "x" | letter === "X") {
			            
			            rect(0, 0, 20, 10);
			            rect(0, 10, 30, 10);
			            rect(0, 50, 30, 10);
			            rect(0, 60, 20, 10);
			            rect(10, 20, 50, 10);
			            rect(10, 40, 50, 10);
			            rect(20, 30, 30, 10);
			            rect(40, 10, 30, 10);
			            rect(40, 50, 30, 10);
			            rect(50, 0, 20, 10);
			            rect(50, 60, 20, 10);
			            
			        } else if (letter === "y" | letter === "Y") {
			            
			            //just like I and T, y is widened by a scale of 1.15
			            rect(0, 0, 23, 30);
			            rect(11.5, 30, 46, 10);
			            rect(23, 40, 23, 30);
			            rect(46, 0, 23, 30);
			            
			        } else if (letter === "z" | letter === "Z") {
			            
			            rect(0, 0, 70, 10);
			            rect(0, 50, 30, 10);
			            rect(0, 60, 70, 10);
			            rect(10, 40, 30, 10);
			            rect(20, 30, 30, 10);
			            rect(30, 20, 30, 10);
			            rect(40, 10, 30, 10);
			            
			        } else if (letter === "0") {
			            
			            rect(0, 20, 20, 30);
			            rect(10, 10, 10, 10);
			            rect(10, 50, 20, 10);
			            rect(20, 0, 30, 10);
			            rect(20, 60, 30, 10);
			            rect(40, 10, 20, 10);
			            rect(50, 20, 20, 30);
			            rect(50, 50, 10, 10);
			            
			        } else if (letter === "1") {
			            
			            //widened like other letters/symbols
			            rect(0, 60, 70, 10);
			            rect(11.5, 10, 34.5, 10);
			            rect(23, 0, 23, 10);
			            rect(23, 20, 23, 40);
			            
			        } else if (letter === "2") {
			            
			            rect(0, 10, 20, 10);
			            rect(0, 50, 20, 10);
			            rect(0, 60, 70, 10);
			            rect(10, 0, 50, 10);
			            rect(10, 40, 20, 10);
			            rect(20, 30, 40, 10);
			            rect(40, 20, 30, 10);
			            rect(50, 10, 20, 10);
			            
			        } else if (letter === "3") {
			            
			            rect(0, 0, 70, 10);
			            rect(0, 50, 20, 10);
			            rect(10, 60, 50, 10);
			            rect(20, 30, 40, 10);
			            rect(30, 20, 20, 10);
			            rect(40, 10, 20, 10);
			            rect(50, 40, 20, 20);
			            
			        } else if (letter === "4") {
			            
			            rect(0, 30, 20, 10);
			            rect(0, 40, 70, 10);
			            rect(10, 20, 20, 10);
			            rect(20, 10, 40, 10);
			            rect(30, 0, 30, 10);
			            rect(40, 20, 20, 20);
			            rect(40, 50, 20, 20);
			            
			        } else if (letter === "5") {
			            
			            rect(0, 0, 60, 10);
			            rect(0, 10, 20, 10);
			            rect(0, 20, 60, 10);
			            rect(0, 50, 20, 10);
			            rect(10, 60, 50, 10);
			            rect(50, 30, 20, 30);
			            
			        } else if (letter === "6") {
			            
			            rect(0, 20, 20, 10);
			            rect(0, 30, 60, 10);
			            rect(0, 40, 20, 20);
			            rect(10, 10, 20, 10);
			            rect(10, 60, 50, 10);
			            rect(20, 0, 40, 10);
			            rect(50, 40, 20, 20);
			            
			        } else if (letter === "7") {
			            
			            rect(0, 0, 70, 10);
			            rect(0, 10, 20, 10);
			            rect(20, 40, 20, 30);
			            rect(30, 30, 20, 10);
			            rect(40, 20, 20, 10);
			            rect(50, 10, 20, 10);
			            
			        } else if (letter === "8") {
			            
			            rect(0, 10, 20, 10);
			            rect(0, 20, 30, 10);
			            rect(0, 40, 10, 20);
			            rect(10, 0, 40, 10);
			            rect(10, 30, 40, 10);
			            rect(10, 60, 50, 10);
			            rect(30, 40, 40, 10);
			            rect(50, 10, 10, 20);
			            rect(50, 50, 20, 10);
			            
			        } else if (letter === "9") {
			            
			            rect(0, 10, 20, 20);
			            rect(10, 0, 50, 10);
			            rect(10, 30, 60, 10);
			            rect(10, 60, 40, 10);
			            rect(40, 50, 20, 10);
			            rect(50, 10, 20, 20);
			            rect(50, 40, 20, 10);
			            
			        } else if (letter === "(") {
			            
			            rect(0, 20, 20, 30);
			            rect(10, 10, 20, 10);
			            rect(10, 50, 20, 10);
			            rect(20, 0, 20, 10);
			            rect(20, 60, 20, 10);
			            
			        } else if (letter === ")") {
			            
			            rect(0, 0, 20, 10);
			            rect(0, 60, 20, 10);
			            rect(10, 10, 20, 10);
			            rect(10, 50, 20, 10);
			            rect(20, 20, 20, 30);
			            
			        } else if (letter === "$") {
			            
			            rect(0, 20, 20, 10);
			            rect(10, 10, 50, 10);
			            rect(10, 30, 50, 10);
			            rect(10, 50, 50, 10);
			            rect(30, 0, 10, 10);
			            rect(30, 60, 10, 10);
			            rect(50, 40, 20, 10);
			            
			        } else if (letter === ".") {
			            
			            rect(0, 50, 20, 20);
			            
			        } else if (letter === ",") {
			            
			            rect(0, 50, 20, 20);
			            rect(0, 80, 10, 10);
			            rect(10, 70, 10, 10);
			            
			        } else if (letter === "!") {
			            
			            rect(0, 60, 10, 10);
			            rect(10, 30, 20, 10);
			            rect(10, 40, 10, 10);
			            rect(20, 0, 30, 20);
			            rect(20, 20, 20, 10);
			            
			        } else if (letter === "?") {
			            
			            rect(0, 10, 20, 10);
			            rect(10, 0, 50, 10);
			            rect(20, 40, 20, 10);
			            rect(20, 60, 20, 10);
			            rect(30, 30, 30, 10);
			            rect(50, 10, 20, 20);
			            
			        } else if (letter !== " ") { //any other symbols (excluding space)
			            
			            letterX -= 80; //move it back 80 as if it never happened
			            
			        }
			        
			        popMatrix();
			        
			        //lower case letter spacing
			        
			        if (letter === "a" | letter === "b" | letter === "c" | letter === "d" | letter === "e" | letter === "f" | letter === "g" | letter === "h" | letter === "i" | letter === "j" | letter === "k" | letter === "l" | letter === "m" | letter === "n" | letter === "o" | letter === "p" | letter === "q" | letter === "r" | letter === "s" | letter === "t" | letter === "u" | letter === "v" | letter === "w" | letter === "x" | letter === "y" | letter === "z") {
			            
			            letterX -= 18;
			            
			        }
			        
			        //exceptions
			        if (letter === "(" | letter === ")" | letter === " ") { //with parenthesis or a space
			            
			            letterX -= 30; //decrease the x of the NEXT letter by 30
			            
			        } else if (letter === "." | letter === ",") { //period of comma
			            
			            letterX -= 50; //decrease the x of the NEXT letter by 50
			            
			        } else if (letter === "!") {
			            
			            letterX -= 20; //decrease the x of the NEXT letter by 20
			            
			        }
			        
			    }
			    
			    popMatrix();
			
			};
			    
			// -- IMAGE CONVERTER FUNCTION --
			var toImg=function(img,s,t){
				fill(0x00ffffff); // transparent background
				rect(0,0,600,400);
				s=s||10;// default pixel size
				noStroke(); // for drawing rects later
				for(var x=img[1].length-1;x>=0;x--){ // x positions
					for(var y=img.length-2;y>=0;y--){ // y positions
						t=img[y+1].charCodeAt(x)-97; // use char index to get color index
						if(t>=0){ // don't draw if transparent
							fill(img[0][t]); // draw pixel
							rect(x*s,y*s,s,s);
						}
					}
				}
				return get(0,0,img[1].length*s,(img.length-1)*s); // return complete image
			};
			// -- IMAGE DATA -- 
			var IMG;
			
			//images   
			{
			
			var backgr = [[color(0,0,151), color(131,251,252), color(0,48,91), color(0,137,125), color(0,198,167), ],
			'dddddddddddddddddddddddddddddd',
			'ddbbbdddddddddddddddddddddbbbd',
			'dddddcccdddddddddddddddddddddd',
			'ddddcccccddddddddddddddddccccd',
			'eeeeccccceccbbeeeeeeeeeecccccc',
			'eeeecccccccccbbbeeeecccecccccc',
			'eeeecbbbcccccceccceccccccccccc',
			'eccecccccccccccccccccccccbbbcc',
			'cccccccccccccccccccbbccccccccc',
			'cccccaaccccccccccccccccccccccc',
			'cccccaaccccccccccccccccccccccc',
			'ccccbbbbcccccccccccccccccbbbcc',
			'ccccccccccccccbbcccccccccccccc',
			'cccccccccccccccccccccccccccccc',
			'cccccccccccccccccccccccccccccc',
			'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb',
			'ababababababababababababababab',
			'bababababababababababababababa',
			'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',
			'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',
			];
			
			var blockpng = [[color(50,50,50), color(100,100,100), color(0,0,130), color(0,137,125), color(0,198,167), color(0,0,92), ],
			'eeedededeee',
			'dcdededecdc',
			'dfefeedcefe',
			'ffdffdfffff',
			'fffffffefff',
			'fdfeffffdff',
			'ffffffffffd',
			'fffffeffcff',
			'fffefffffff',
			'fffffffdfff',
			'ffcffffffff',
			];
			
			var playerpng = [[color(100,100,255), color(0,0,80), color(0,255,255), ],
			'`aaaaaaaa`',
			'abbbbbbbba',
			'abbbbbbbba',
			'abbbbbbbba',
			'abbbbbbbba',
			'abbbbbbbba',
			'abbbbbbbba',
			'abbbbbbbba',
			'abbbbbbbba',
			'`aaaaaaaa`',
			];
			
			var playereyespng = [[color(100,100,255), color(0,0,80), color(0,255,255), ],
			'``````````',
			'``````````',
			'``cc``cc``',
			'``cc``cc``',
			'``````````',
			'``````````',
			'``cccccc``',
			'``cccccc``',
			'``````````',
			'``````````',
			];
			
			
			var lavapng=[[color(255,157,0), color(255,116,0), color(250,60,0), color(222,46,0), color(50,50,50), ],
			'baabddbcbabccc',
			'cbaabccdbabcdc',
			'ccbbcddccbddcb',
			'bdccdcccdcccba',
			'bcdcbdcdcccdba',
			'bcdbabdcbcccba',
			'cdbaabcbabbccb',
			'cccbabdbaabccc',
			'ccccbddbaabccc',
			'dccdcdccbbddcc',
			'cdccdddccccdbb',
			'bcdcdcbcdcdbaa',
			'ddcdcbabcdccbb',
			'dbbddbabcbdccc',
			];
			
			var spikepng = [[color(40,40,40), color(50,50,50), color(60,60,60), color(70,70,70), color(80,80,80), color(90,90,90), color(100,100,100), color(110,110,110), color(120,120,120), color(130,130,130), ],
			'````jj````',
			'````ii````',
			'```hhhh```',
			'```gggg```',
			'``ffffff``',
			'``eeeeee``',
			'`dddddddd`',
			'`cccccccc`',
			'bbbbbbbbbb',
			'aaaaaaaaaa',
			];
			
			
			var dirtpng = [[color(50,50,50), color(100,100,100), color(0,0,130), color(0,137,125), color(0,198,167), color(0,0,92), ],
			'cfffcfcefcf',
			'fcfefffffff',
			'fefffefcfef',
			'ffffeffffff',
			'fffffffefff',
			'fdfeffffdff',
			'ffffffffffd',
			'fffffeffcff',
			'fffefffffff',
			'fffffffdfff',
			'ffcffffffff',
			];
			
			var healblockpng = [[color(0,255,0,200), color(0,255,0,180), color(0,255,0,160), color(0,255,0,140), color(0,255,0,120), color(0,255,0,100), color(0,255,0,80), color(0,255,0,60), color(0,255,0,40), color(0,255,0,20), ],
			'jjjjjjjajj',
			'iiiiiiaaai',
			'hhahhhhahh',
			'gaaagggggg',
			'ffafffffff',
			'eeeeeeeaee',
			'ddddddaaad',
			'cccccccacc',
			'bbbbbbbbbb',
			'aaaaaaaaaa',
			];
			var portalpng = [[color(0,0,0), color(0,255,255), color(255,255,255), ],
			'```aaaa```',
			'`aacccbaa`',
			'`acbbbcba`',
			'acbcccbcba',
			'abcbbcbcba',
			'abcbcbbcba',
			'abcbcccbca',
			'`abcbbbca`',
			'`aabcccaa`',
			'```aaaa```',
			];
			
			var thumnail=[[color(100,100,255), color(0,0,80), color(0,255,255), color(0,0,0), ],
			'daaaaaaaad',
			'abbbbbbbba',
			'abccbbccba',
			'abccbbccba',
			'abbbbbbbba',
			'abbbbbbbba',
			'abccccccba',
			'abccccccba',
			'abbbbbbbba',
			'daaaaaaaad',
			];
			var healthbar_png = [[color(50,50,50), color(150,150,150), color(255,255,255), color(255,50,50), color(255,150,50), color(255,255,100), color(170,255,100), color(50,200,100), color(150,220,255), color(80,120,220), color(180,120,255), color(150,100,50), ],
			'hhhhhhhhhh',
			'gggggggggg',
			];
			var healthbar2_png = [[color(50,50,50), color(150,150,150), color(255,255,255), color(255,50,50), color(255,100,100), color(255,255,100), color(170,255,100), color(50,200,100), color(150,220,255), color(80,120,220), color(180,120,255), color(150,100,50), ],
			'dddddddddd',
			'eeeeeeeeee',
			];
			var leveldisplay_png = [[color(50,50,50), color(150,150,150), color(255,255,255), color(255,50,50), color(255,150,50), color(255,255,100), color(170,255,100), color(50,200,100), color(150,220,255), color(80,120,220), color(180,120,255), color(150,100,50), ],
			'iiiiiiiiii',
			'jjjjjjjjjj',
			];
			var playb=[[color(50,50,50), color(150,150,150), color(255,255,255), color(255,50,50), color(255,150,50), color(255,255,100), color(170,255,100), color(50,200,100), color(0,0,160), color(0,187,218), color(0,120,255), ],
			'``````kkk``````',
			'````kkjjjkk````',
			'``kkjjjjjjjkk``',
			'``kjjjjjjjjjk``',
			'`kjjjiijjjjjjk`',
			'`kjjjiiiijjjjk`',
			'kjjjjiiiiiijjjk',
			'kjjjjiiiiiiijjk',
			'kjjjjiiiiiijjjk',
			'`kjjjiiiijjjjk`',
			'`kjjjiijjjjjjk`',
			'``kjjjjjjjjjk``',
			'``kkjjjjjjjkk``',
			'````kkjjjkk````',
			'``````kkk``````',
			];
			
			 
			}    
			
			
			
			
			var images={},toload={
			    
			    img1: {
			    
			      d:function() {  
			          backgr = toImg(backgr,10);
			    }
			    },
			    
			    img2: {
			        d:function() {
			            playerpng = toImg(playerpng);
			        }
			        
			    },
			    img3:{
			        d:function() {
			            blockpng = toImg(blockpng);
			        }
			    },
			    img4:{
			        d:function() {
			            lavapng = toImg(lavapng);
			        }
			    },
			    img5:{
			        d:function(){
			            spikepng = toImg(spikepng);
			        }
			    },
			    img6:{
			        d:function() {
			            thumnail=toImg(thumnail,20);
			        }
			    },
			    img7:{
			        d:function() {
			            playereyespng = toImg(playereyespng);
			        }
			    },
			    img8:{
			        d:function() {
			            dirtpng = toImg(dirtpng);
			        }
			    },
			    img9:{
			        d:function() {
			            healblockpng = toImg(healblockpng);
			        }
			    },
			    img10:{
			        d:function() {
			        portalpng = toImg(portalpng);
			    }
			    },
			    img17:{
			        d:function(){
			            healthbar_png = toImg(healthbar_png);
			        }
			    },
			    img18:{
			        d:function() {
			            healthbar2_png = toImg(healthbar2_png);
			        }
			    },
			    img19:{
			        d:function() {
			            leveldisplay_png = toImg(leveldisplay_png);
			        }
			    },
			    img20:{
			        d:function(){
			             playb = toImg(playb);      
			        }
			    },
			};
			
			fill(255,255,255);
			
			
			rect(0,0,600,400);
			
			
			
			
			
			//tells which level is in use
			var level = 0;
			//holds the data for each level
			var levels = [
			
			[
			    "                  ",
			    "                  ",
			    "                  ",
			    "                  ",
			    "                b@",
			    "         b   b  db",
			    "     bb           ",
			    "  bb              ",
			    "                  ",
			    " b  b             ",
			    "                  ",
			    "b    b            ",
			    "                  ",
			    " b  b             ",
			    "  p               ",
			    "  bb              ",
			    "                  ",
			    "                  ",
			],
			
			
			[
			    "                  ",
			    "                  ",
			    "@                 ",
			    "bb                ",
			    "                  ",
			    "  b               ",
			    "  dbbb  bbb       ",
			    "    d    d        ",
			    "           b      ",
			    "             b    ",
			    "                  ",
			    "           b      ",
			    "                  ",
			    "  p          b    ",
			    " bbb    bbb       ",
			    "bdddb  bdddb      ",
			    " ddd    ddd       ",
			    "                  ",
			],
			
			[
			    "bbbbbbbbbbbbbbbbbb",
			    "d@     lll       d",
			    "db     bbbb      d",
			    "dl bbb llld bb   d",
			    "dllllllllld      d",
			    "dbbbbbbbbbdbbbb  d",
			    "dddddddddddd     d",
			    "ddddddddd      b d",
			    "dddd             d",
			    "ddd             bd",
			    "dd               d",
			    "d         blllb  d",
			    "d     bbb ddddd  d",
			    "d      d         d",
			    "d bbb            d",
			    "dp d             d",
			    "dbsssssssssssssssd",
			    "ddbbbbbbbbbbbbbbbd",
			],
			
			[
			    "                  ",
			    "                 s",
			    "                @b",
			    "                bd",
			    "              b   ",
			    "     b    b  bd   ",
			    "  b               ",
			    "                  ",
			    "b                 ",
			    "s       bbb       ",
			    "bb      lll       ",
			    "         l   bb   ",
			    "    bb      bddb  ",
			    "     d      lddl  ",
			    "bb   d   bbbllll  ",
			    "d   bd  bddd ll   ",
			    "dp      lldd l    ",
			    "db       lll      ",
			],
			
			[
			    "                  ",
			    "                  ",
			    "        bb        ",
			    "     bb     bb    ",
			    "                  ",
			    "        bb     bb ",
			    "     bb         b ",
			    "                b ",
			    "        bb      b@",
			    "     bb          b",
			    "  b               ",
			    "b                 ",
			    "                  ",
			    "  b               ",
			    "b                 ",
			    "                  ",
			    "p b               ",
			    "b                 ",
			],
			
			[
			    "                  ",
			    "                  ",
			    "       bb  bb     ",
			    "    b             ",
			    "                  ",
			    "    bb       bbb  ",
			    "       b      @   ",
			    "              b bb",
			    "        b         ",
			    "                  ",
			    "       b          ",
			    "                  ",
			    "       bb         ",
			    "   bb             ",
			    "bb                ",
			    "                  ",
			    "p  bb             ",
			    "bb                ",
			],
			
			[
			    "                  ",
			    "                bl",
			    "               b  ",
			    "              b@  ",
			    "   b   b     sdbbb",
			    "           bbbllll",
			    " b   b   b     lll",
			    "                ll",
			    "b                l",
			    "                  ",
			    " b                ",
			    "      hh          ",
			    "b     bb      bb  ",
			    "    ss  ss  ss    ",
			    "bb  bb  bb  bb  bb",
			    "                  ",
			    "p              bb ",
			    "bb  bb  bb  bb    ",
			],
			
			[
			    "bb@            bbb",
			    "d b b            d",
			    "d        bb  b   d",
			    "d     bb       b d",
			    "d                d",
			    "d               bd",
			    "d                d",
			    "d    b   b    b  d",
			    "d                d",
			    "db               d",
			    "d                d",
			    "d   b            d",
			    "db               d",
			    "d                d",
			    "d  b             d",
			    "d                d",
			    "dpbsllslhlsllslhld",
			    "dbbbbbbbbbbbbbbbbd",
			],
			
			[
			    "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
			    "d                            d",
			    "d    b  b  b    bb      bb   d",
			    "d   bl  l  l    ll      ll b@d",
			    "d   l b  b   bb   b   b    lbd",
			    "d b   l  l   ll   l   l     ld",
			    "dpl                          d",
			    "db                           d",
			    "dssssssssssssssssssssssssssssd",
			    "dbbbbbbbbbbbbbbbbbbbbbbbbbbbbd",
			],
			
			[
			    "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
			    "d                            d",
			    "d     b b   b       bb    bb@d",
			    "d  bb     b        b    b   bd",
			    "d              b             d",
			    "d    bb      b   b    b      d",
			    "d                            d",
			    "d  bb                        d",
			    "dpsssssssssssssssssssssssssssd",
			    "dbbbbbbbbbbbbbbbbbbbbbbbbbbbbd",
			],
			
			[
			    "bbbbbbbbbbbbbbbbbb",
			    "d                d",
			    "d                d",
			    "d       b        d",
			    "d     bbdbb      d",
			    "d     ddddd      d",
			    "d@   bdddddb     d",
			    "db   ddddddd     d",
			    "dbbbbbbbbbbbbbb  d",
			    "d    l   l hh    d",
			    "d  l   l        sd",
			    "d  bbbbbbbbbbbbbbd",
			    "d b  b   b       d",
			    "d      b   b hh  d",
			    "dbbbbbbbbbbbbbb  d",
			    "d           s    d",
			    "dp shhlhlhl     sd",
			    "dbbbbbbbbbbbbbbbbd",
			],
			
			[
			    "bbbbbbbbbbbbbbbbbb",
			    "d     d          d",
			    "d     d    h     d",
			    "db b  d    b     d",
			    "d  d  d  b d     d",
			    "d bd  d    ds   sd",
			    "d  d  db   d     d",
			    "db ds d    d s   d",
			    "d  d  d  b d     d",
			    "d bd  d    d     d",
			    "d  d  db   d     d",
			    "db d  d   sds   sd",
			    "d  d  d  bbd     d",
			    "d bd  d  lld s   d",
			    "d  d sdb  ld     d",
			    "db d  d   ld     d",
			    "dp d    blld@hhshd",
			    "dbbdbbbbbbbbbbbbbd",
			],
			
			
			[
			    "bbbbbbbbbbbbbbbbbb",
			    "d                d",
			    "d              @ d",
			    "d    b  bb    bb d",
			    "d                d",
			    "d  b b     bb    d",
			    "db               d",
			    "d b b b          d",
			    "d       b        d",
			    "d                d",
			    "d        b       d",
			    "d                d",
			    "d       b        d",
			    "d    bb          d",
			    "d    d           d",
			    "d bb             d",
			    "dp dsllsllsllsllsd",
			    "dbbbbbbbbbbbbbbbbd",
			],
			[
			    "    b   b   b  ",
			    "            d  ",
			    "bb          ds ",
			    "d  b        d  ",
			    "d    bb     d  ",
			    "d       b   d  ",
			    "d         b ds ",
			    "d           d  ",
			    "d       bbb d  ",
			    "d      s    d  ",
			    "d     bb    d  ",
			    "dp    ddlllld s",
			    "dbbbllddssssd @",
			    "ddddbbddbbbbdbb",
			    "ddddddddddddddd",
			],
			
			[
			    "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
			    "d                 dd          d  @d",
			    "d                 d  bbs      d  bd",
			    "d                 ds   bb   s d b d",
			    "d                 ddbb   d bb d   d",
			    "d                  d   s d    db  d",
			    "d               bb d  bb ds  bd  bd",
			    "d           hhs    db    d s  d   d",
			    "dp    s     bbb   bd     d bb db  d",
			    "db   bb  b         d b   d   hd   d",
			    "ddlllddssd         d     d s bd  bd",
			    "ddlllddbbd         d   b d b  d   d",
			    "ddlllddll          d     d    db  d",
			    "ddlllddll    ss  s   bhhbd  s h  bd",
			    "ddbbbddbbbbbbbbbbbbbbbbbbbbbbbbbbbd",
			   
			],
			
			[
			    "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
			    "d         ddlllldd       d       @d",
			    "d         ddlllldd       d      bbd",
			    "d         ddlllldd       d  bsb lld",
			    "d         dd    dd       d   s  lld",
			    "d         dd    dd       d b     ld",
			    "d         dd    dd       d        d",
			    "d                    hh  db    ss d",
			    "d                    bb  d     bb d",
			    "d     s   bb    bb   dds d b  sllsd",
			    "d    bb   dd    ddlllddb d    bllbd",
			    "d    dd   dd    ddlllddl db    ss d",
			    "d bb ddllldd    ddlllddl       bb d",
			    "dpsssddlllddssssddlllddl   b  ssssd",
			    "dbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbd",
			],
			
			
			[
			    "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
			    "d                                 d",
			    "d                                 d",
			    "d                            b  b d",
			    "d                         s  dssd d",
			    "d                   b    bbb dbbd d",
			    "d                  s              d",
			    "d      s    s     bb              d",
			    "d     bb    bb  b                @d",
			    "d  b  ddllllddhhd                bd",
			    "db dssddllllddbbd                 d",
			    "d  dbbddllllddddd                 d",
			    "d bdddddllllddddd                 d",
			    "dp dddddlllldddddsssssssssssssssssd",
			    "dbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbd",
			],
			
			 
			    
			[
			    "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
			    "d              h                  d",
			    "d              b                  d",
			    "d                 b               d",
			    "d               b d b   b     b   d",
			    "d                 d               d",
			    "d             lb  d   b     b     d",
			    "d             b   d             s d",
			    "d   s   s bhhb    d             b@d",
			    "d   b   b  bb     d             dbd",
			    "dbb               d               d",
			    "d                 d               d",
			    "d bb              d               d",
			    "dpssssssssssssssssdsssssssssssssssd",
			    "dbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbd",
			],
			
			
			[
			    "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
			    "d                            d",
			    "d                            d",
			    "d                            d",
			    "d                            d",
			    "d b  bllb  bhhb  b  bllb  b  d",
			    "d    dlld@@dhhdssdlldlld bd@@d",
			    "db   dlld@@dhhdssdlldlld bd@@d",
			    "d    dlld@@dhhdssd  dhhd  d@@d",
			    "d b  dddd@@dhhdssd  dhhdb d@@d",
			    "d    dddd@@dhhdssdssdhhdb d@@d",
			    "db   dddd  dhhdssd  dhhd  d@@d",
			    "d    dddd  dhhdssd  dhhd bd  d",
			    "dbb  dddd  dhhdssd  d  d bd  d",
			    "d    dddd  dhhdssd  dlld  d  d",
			    "d  b dddd  dhhdssd  dlldb d  d",
			    "dp d ddddssdssdssd  dl@dbsdlld",
			    "dbbbbbbbbbbbbbbbbbbbbbbbbbbbbd",
			],
			
			[
			    "bbbbbbbbbbbbbbbbbb",
			    "d         ddd    @",
			    "d   b bdd ddd    d",
			    "d     d    dd  b d",
			    "d    bddd  ddb   d",
			    "db    d    dd    d",
			    "dl  b dld ddd b  d",
			    "dl    dd   dd   bd",
			    "dl   bdss sdd    d",
			    "dbbb  dbb bddbbb d",
			    "d    ld   sdd    d",
			    "d  bbld  bbddb  bd",
			    "d    lds   dd    d",
			    "dbb  ldbb  dd bb d",
			    "d    ld    dd    d",
			    "d  bbldb  bdd   bd",
			    "dp llld shhhh  bdd",
			    "dbbbbbdbbbbbbbbddd",
			],
			[],
			];
			
			//telling when keys are pressed
			{
			//an array that tells what key(s) are being pressed
			var key_pressed = [];
			
			/*
			    each key has a different code for example space bar is 32.
			    when the space bar is pressed the thirty secound attribute
			    equels true. when the space bar is released it deletes the         thirty secound's attribute from the array.
			    
			    I could make it where it make the attribute equal false. but      it's then holding a usless attribute. so I prefer to just         delete it from the array. (I learned this from Dominic R.)
			*/
			
			//make a pressed key equal true and a realesed key get deleted.
			keyPressed = function(){
			    key_pressed[keyCode] = true;
			};
			keyReleased = function(){
			    delete key_pressed[keyCode];
			};
			}
			
			var up = false;
			var left = false;
			var right = false;
			
			//Player Constructor
			{
			/* 
			    you can call the varaibles in the object like this:
			    println(player.x);
			    or like:
			    println(player.speedy);
			*/
			var Player = function(x, y, speedx, speedy, canJump, overallSpeed, health,eyex,eyey){
			    this.x = x;
			    this.y = y;
			    this.speedx = speedx;
			    this.speedy = speedy;
			    this.canJump = canJump;
			    this.overallSpeed = overallSpeed;
			    this.health = health;
			    this.eyex = eyex;
			    this.eyey = eyey;
			};
			//the placement of the player
			Player.prototype.place = function() {
			        for ( var i = 0; i < levels[level].length; i++){
			            for ( var j = 0; j < levels[level][i].length; j++){
			                if(levels[level][i][j] === "p"){
			                    this.x = j*50;
			                    this.y = i*50;
			                }
			            }
			        }
			    };
			    
			//the drawing of the player
			Player.prototype.draw = function() {
			    pushMatrix();
			    translate(this.x,this.y);
			    
			    image(playerpng,0,0,50,50);
			    image(playereyespng,this.eyex,this.eyey,50,50);
			    this.eyey = 0;
			    this.eyex = 0;
			    if(key_pressed[UP]||up) {
			       this.eyey -= 5;
			    }
			     if(key_pressed[RIGHT]||right){
			       this.eyex += 5;
			       
			    }
			   
			    
			    
			        
			    
			    if(key_pressed[LEFT]||left){
			        
			         this.eyex -= 5;
			         
			    }
			    if(key_pressed[DOWN]) {
			     this.eyey += 5;
			    }
			    
			    
			    popMatrix();
			};
			//the movement of the player
			Player.prototype.move = function() {
			    
			    //when th up key is pressed
			    if(key_pressed[UP]||up && this.canJump){
			         
			        //the Y speed equals nagitve the overall speed x 3
			        this.speedy = -this.overallSpeed*3;
			        //and canJump equals false
			        this.canJump = false;
			       
			    }
			   
			    //if the up key isn't pressed and the player can't jump
			    else{
			        //the y speed gets 0.8 added to it every frame
			        this.speedy += 0.8;
			        //and canJump equals false
			        this.canJump = false;
			    }
			    
			    //if the right key is pressed
			    if(key_pressed[RIGHT]||right){
			        //lerp x speed to to the overall speed
			        this.speedx = lerp(this.speedx, this.overallSpeed, 0.2);
			       
			    }
			    //if the left key is pressed
			    else if(key_pressed[LEFT]||left){
			        //lerp x speed to to nagitive the overall speed
			        this.speedx = lerp(this.speedx, -this.overallSpeed, 0.2);
			        
			    }
			    //if niether of these keys ar pressed
			    else{
			        //lerp x speed to to 0
			        this.speedx = lerp(this.speedx, 0, 0.2);
			    }
			    
			    //the x position is getting the x speed added to it everyframe
			    this.x += this.speedx;
			    //the y position is getting the y speed added to it everyframe
			    this.y += this.speedy;
			};
			
			
			//create the player object
			var player = new Player(100, 100, 0, 0, false, 5, 100);
			
			//place the player in the level
			player.place();
			}
			
			//calling vars to use in block Constructor
			var CreateLevel;
			
			//Block Constructor
			{
			//holds all the blocks
			var blocks = [];    
			    
			var Block = function(x,y){
			    this.x = x;
			    this.y = y;    
			};
			//draw blocks
			Block.prototype.draw = function() {
			    pushMatrix();
			    translate(this.x,this.y);
			    
			  image(blockpng,0,0,50,50);
			
			    
			    popMatrix();
			};
			//collides blocks with player
			Block.prototype.collide = function() {
			    
			            //collisions with player
			            {
			                //tells if player is overlapping with block
			                if(player.x+50 > this.x && player.x < this.x+50 && player.y+50 > this.y && player.y < this.y+50){
			                    
			                    /*
			                    does the same thing as the if stamement above
			                    but has the X speed subtracted from the X     
			                    position and the Y speed added to the Y 
			                    position
			                    */
			                    if(player.x-player.speedx+50 > this.x && player.x-player.speedx < this.x+50 && player.y+player.speedy+50 > this.y && player.y+player.speedy < this.y+50){
			                        /*
			                        if the Y speed is greater than 0 
			                        AKA if the player is headed down
			                        */
			                        if(player.speedy > 0){
			                            //make the player stop at the top of the block
			                            player.y = this.y-50;
			                            //make the Y speed equal 0
			                            player.speedy = 0;
			                            //make the player able to jump
			                            player.canJump = true;
			                        }
			                        /*
			                        if the Y speed is less than 0 
			                        AKA if the player is headed up
			                        */
			                        else if(player.speedy < 0){
			                            //make the player stop at the bottom of the block
			                            player.y = this.y+50;
			                            //make the Y speed equal 0
			                            player.speedy = 0;
			                        }
			                    }
			                    /*
			                    does the same thing as the first if stamement 
			                    but has the X speed added from the X     
			                    position and the Y speed subtracted to the Y 
			                    position
			                    */
			                    if(player.x+player.speedx+50 > this.x && player.x+player.speedx < this.x+50 && player.y-player.speedy+50 > this.y && player.y-player.speedy < this.y+50){
			                        /*
			                        if the X speed is greater than 0 
			                        AKA if the player is headed Right
			                        */
			                        if(player.speedx > 0){
			                            /*
			                            make the player stop at the
			                            right side of the block
			                            */
			                            player.x = this.x-50;
			                            //make the players X speed equal 0
			                            player.speedx = 0;
			                        }
			                        /*
			                        if the X speed is less than 0 
			                        AKA if the player is headed Left
			                        */
			                        else if(player.speedx < 0){
			                            /*
			                            make the player stop at the
			                            left side of the block
			                            */
			                            player.x = this.x+50;
			                            //make the players X speed equal 0
			                            player.speedx = 0;
			                        }
			                    }
			                }
			            }
			};
			
			
			
			
			var dirt = function(x,y) {
			  this.x = x;
			  this.y = y;
			};
			
			dirt.prototype.draw = function() {
			     pushMatrix();
			    translate(this.x,this.y);
			    
			  image(dirtpng,0,0,50,50);
			
			    
			    popMatrix();
			};
			
			dirt.prototype.collide = function() {
			  
			  
			            //collisions with player
			            {
			                //tells if player is overlapping with block
			                if(player.x+50 > this.x && player.x < this.x+50 && player.y+50 > this.y && player.y < this.y+50){
			                    
			                    /*
			                    does the same thing as the if stamement above
			                    but has the X speed subtracted from the X     
			                    position and the Y speed added to the Y 
			                    position
			                    */
			                    if(player.x-player.speedx+50 > this.x && player.x-player.speedx < this.x+50 && player.y+player.speedy+50 > this.y && player.y+player.speedy < this.y+50){
			                        /*
			                        if the Y speed is greater than 0 
			                        AKA if the player is headed down
			                        */
			                        if(player.speedy > 0){
			                            //make the player stop at the top of the block
			                            player.y = this.y-50;
			                            //make the Y speed equal 0
			                            player.speedy = 0;
			                            //make the player able to jump
			                            player.canJump = true;
			                        }
			                        /*
			                        if the Y speed is less than 0 
			                        AKA if the player is headed up
			                        */
			                        else if(player.speedy < 0){
			                            //make the player stop at the bottom of the block
			                            player.y = this.y+50;
			                            //make the Y speed equal 0
			                            player.speedy = 0;
			                        }
			                    }
			                    /*
			                    does the same thing as the first if stamement 
			                    but has the X speed added from the X     
			                    position and the Y speed subtracted to the Y 
			                    position
			                    */
			                    if(player.x+player.speedx+50 > this.x && player.x+player.speedx < this.x+50 && player.y-player.speedy+50 > this.y && player.y-player.speedy < this.y+50){
			                        /*
			                        if the X speed is greater than 0 
			                        AKA if the player is headed Right
			                        */
			                        if(player.speedx > 0){
			                            /*
			                            make the player stop at the
			                            right side of the block
			                            */
			                            player.x = this.x-50;
			                            //make the players X speed equal 0
			                            player.speedx = 0;
			                        }
			                        /*
			                        if the X speed is less than 0 
			                        AKA if the player is headed Left
			                        */
			                        else if(player.speedx < 0){
			                            /*
			                            make the player stop at the
			                            left side of the block
			                            */
			                            player.x = this.x+50;
			                            //make the players X speed equal 0
			                            player.speedx = 0;
			                        }
			                    }
			                }
			            }
			    
			};
			
			var Lava = function(x,y){
			    this.x = x;
			    this.y = y;    
			};
			//draw blocks
			Lava.prototype.draw = function() {
			    pushMatrix();
			    translate(this.x,this.y);
			   
			   image(lavapng,0,0,50,50);
			
			  popMatrix();
			  
			};
			//collides blocks with player
			Lava.prototype.collide = function() {
			    
			            //collisions with player
			            {
			                //tells if player is overlapping with block
			                if(player.x+50 > this.x && player.x < this.x+50 && player.y+49 > this.y && player.y < this.y+50){
			                    
			                    player.health -= 1;
			                    
			                }
			            }
			};
			
			var healblock = function(x,y) {
			    
			    this.x = x;
			    this.y = y;
			    
			};
			
			healblock.prototype.draw = function() {
			    
			        pushMatrix();
			    translate(this.x,this.y);
			   
			   image(healblockpng,0,0,50,50);
			
			  popMatrix();
			    
			};
			
			healblock.prototype.collide = function() {
			  
			  
			            //collisions with player
			            {
			                //tells if player is overlapping with block
			                if(player.x+50 > this.x && player.x < this.x+50 && player.y+49 > this.y && player.y < this.y+50&&player.health < 100){
			                    
			                    player.health += 1;
			                    
			                }
			            }
			    
			};
			
			var spike = function(x,y) {
			  
			  this.x = x;
			  this.y = y;
			    
			};
			
			spike.prototype.draw = function() {
			  
			   pushMatrix();
			    translate(this.x,this.y);
			   
			   image(spikepng,0,0,50,50);
			
			  popMatrix();
			    
			};
			
			spike.prototype.collide = function() {
			  
			  //collisions with player
			            {
			                //tells if player is overlapping with block
			                if(player.x+40 > this.x && player.x < this.x+40 && player.y+30 > this.y && player.y < this.y+30){
			                    
			                    player.health -= 10;
			                    
			                    /*
			                    does the same thing as the if stamement above
			                    but has the X speed subtracted from the X     
			                    position and the Y speed added to the Y 
			                    position
			                    */
			                    if(player.x-player.speedx+40 > this.x && player.x-player.speedx < this.x+40 && player.y+player.speedy+30 > this.y && player.y+player.speedy < this.y+30){
			                        /*
			                        if the Y speed is greater than 0 
			                        AKA if the player is headed down
			                        */
			                        if(player.speedy > 0){
			                            //make the player stop at the top of the block
			                            player.y = this.y-30;
			                            //make the Y speed equal 0
			                            player.speedy = 0;
			                            //make the player able to jump
			                            player.canJump = true;
			                        }
			                        /*
			                        if the Y speed is less than 0 
			                        AKA if the player is headed up
			                        */
			                        else if(player.speedy < 0){
			                            //make the player stop at the bottom of the block
			                            player.y = this.y+30;
			                            //make the Y speed equal 0
			                            player.speedy = 0;
			                        }
			                    }
			                    /*
			                    does the same thing as the first if stamement 
			                    but has the X speed added from the X     
			                    position and the Y speed subtracted to the Y 
			                    position
			                    */
			                    if(player.x+player.speedx+40 > this.x && player.x+player.speedx < this.x+40 && player.y-player.speedy+30 > this.y && player.y-player.speedy < this.y+30){
			                        /*
			                        if the X speed is greater than 0 
			                        AKA if the player is headed Right
			                        */
			                        if(player.speedx > 0){
			                            /*
			                            make the player stop at the
			                            right side of the block
			                            */
			                            player.x = this.x-40;
			                            //make the players X speed equal 0
			                            player.speedx = 0;
			                        }
			                        /*
			                        if the X speed is less than 0 
			                        AKA if the player is headed Left
			                        */
			                        else if(player.speedx < 0){
			                            /*
			                            make the player stop at the
			                            left side of the block
			                            */
			                            player.x = this.x+40;
			                            //make the players X speed equal 0
			                            player.speedx = 0;
			                        }
			                    }
			                }
			            }
			           
			    
			};
			
			
			var Portal = function(x,y,animation){
			    this.x = x;
			    this.y = y;    
			    this.animation = animation;
			};
			//draw blocks
			Portal.prototype.draw = function() {
			    pushMatrix();
			    translate(this.x,this.y);
			  
			  image(portalpng,0,0,50,50);
			  
			    popMatrix();
			    
			};
			//collides blocks with player
			Portal.prototype.collide = function() {
			    
			            //collisions with player
			            {
			                //tells if player is overlapping with block
			                if(player.x+50 > this.x && player.x < this.x+50 && player.y+50 > this.y && player.y < this.y+50){
			                    this.animation = lerp(this.animation, 260, 0.02);
			                    if(this.animation > 250){
			                    //make it the next level
			                    level = level+1;
			                    
			                    //reset player
			                    player.place();
			                    player.health = 100;
			                    player.speedx = 0;
			                    player.speedy = 0;
			                    
			                    //reset level's blocks
			                    blocks = [];
			                    CreateLevel();
			                    }
			                    
			                }
			                else{
			                    this.animation = lerp(this.animation, 0, 0.05);
			                }
			            }
			};
			}
			
			/* create levels */
			{
			var CreateLevel = function(){
			    /*
			        this runs through every single block and pushes a block           object into the blocks array.
			    */
			    for ( var i = 0; i < levels[level].length; i++){
			        for ( var j = 0; j < levels[level][i].length; j++){
			            switch(levels[level][i][j]){
			                case "b":
			                    //basic block
			                    blocks.push(new Block(j*50, i*50));
			                    
			                break;
			                case "l":
			                    //basic block
			                    blocks.push(new Lava(j*50, i*50));
			                break;
			                case "@":
			                    //basic block
			                    blocks.push(new Portal(j*50, i*50,0));
			                break;
			                case "s":
			                    blocks.push(new spike(j*50,i*50,0));
			                break;
			                case "d":
			                    blocks.push(new dirt(j*50,i*50,0));
			                break;
			                case "h":
			                    blocks.push(new healblock(j*50,i*50,0));
			                break;
			                
			               
			            }
			        }
			    }
			
			}; 
			
			CreateLevel();
			}
			
			//more images...
			{
			stroke(0);
			strokeWeight(10);
			 fill(0,255,255);
			    rect(0,0,50,50);
			    fill(0);
			    textSize(30);
			    text("📱",10,35);
			//💻    
			    var mb = get(0,0,50,50);
			    
			    stroke(0);
			strokeWeight(10);
			 fill(0,255,255);
			    rect(0,0,50,50);
			    fill(0);
			    textSize(30);
			    text("💻",5,35);
			//💻    
			    var pc = get(0,0,50,50);
			    
			}   
			    
			    
			    
			var mobile = false;
			var mbpc = new button({
			
			x:20,
			y:170,
			w:50,
			h:50,
			onClick: function() {
			    
			    if(mouseClick()) {
			      if(mobile===true) {
			       mobile=false; this.icon=pc;  
			      }
			      else{mobile=true;this.icon=mb;}
			    }
			    
			    
			},
			
			icon:pc,
			    
			
			});
			
			var upbtn = toImg([[color(50,50,50), color(150,150,150), color(255,255,255), color(255,50,50), color(255,150,50), color(255,255,100), color(170,255,100), color(50,200,100), color(150,220,255), color(0,0,220), color(180,120,255), color(150,100,50), ],
			'iiiiiiiiii',
			'iiiijjiiii',
			'iiiijjiiii',
			'iiijjjjiii',
			'iiijjjjiii',
			'iijjjjjjii',
			'iijjjjjjii',
			'ijjjjjjjji',
			'ijjjjjjjji',
			'iiiiiiiiii',
			]);
			var rightbtn = toImg([[color(50,50,50), color(150,150,150), color(255,255,255), color(255,50,50), color(255,150,50), color(255,255,100), color(170,255,100), color(50,200,100), color(150,220,255), color(0,0,220), color(180,120,255), color(150,100,50), ],
			'iiiiiiiiii',
			'iiiiiiijji',
			'iiiiijjjji',
			'iiijjjjjji',
			'ijjjjjjjji',
			'ijjjjjjjji',
			'iiijjjjjji',
			'iiiiijjjji',
			'iiiiiiijji',
			'iiiiiiiiii',
			]);
			
			var leftbtn = toImg([[color(50,50,50), color(150,150,150), color(255,255,255), color(255,50,50), color(255,150,50), color(255,255,100), color(170,255,100), color(50,200,100), color(150,220,255), color(0,0,220), color(180,120,255), color(150,100,50), ],
			'iiiiiiiiii',
			'ijjiiiiiii',
			'ijjjjiiiii',
			'ijjjjjjiii',
			'ijjjjjjjji',
			'ijjjjjjjji',
			'ijjjjjjiii',
			'ijjjjiiiii',
			'ijjiiiiiii',
			'iiiiiiiiii',
			]);
			
			var game = function() {
			image(backgr,0,0,400*1.5,400);
			    
			cursor("default");
			  
			
			  
			   
			    pushMatrix();
			    //this keeps the player centered
			    translate(round(-player.x+600/2), round(-player.y+400/2));
			    
			    //draw/move player
			    player.draw();
			    player.move();
			    
			    /*
			    if playerhealth is less than or equal to 0 or if "r" is pressed
			    */
			    if(player.health <= 0 || key_pressed[82]){
			        //reset the level
			        player.place();
			        player.health = 100;
			        player.speedx = 0;
			        player.speedy = 0;
			    }
			
			    
			    //draw blocks
			    for (var i = 0; i < blocks.length; i++){
			        blocks[i].draw();
			        if(dist(player.x+25,player.y+25,blocks[i].x+25,blocks[i].y+25) <= 100){
			            blocks[i].collide();
			        }
			
			    }
			    popMatrix();
			    
			    
			    //health bar
			    pushMatrix();
			    fill(255, 0, 0);
			    image(healthbar2_png,5,5,290,25);
			    fill(0, 255, 47);
			    image(healthbar_png,5,5,player.health*2.9,25);
			    fill(0);
			   textSize(20);
			    text("HP: "+player.health+"/100",85,5);
			    popMatrix();
			    
			    
			    
			    var w = level+1;
			    //level display
			    pushMatrix();
			    textSize(20);
			    image(leveldisplay_png,60,35,145,25);
			    text("Level: "+w,60,35);
			    
			    popMatrix(); 
			     
			     
			     
			     
			   
			    
			    if(player.y > 1000 === true) {
			     key_pressed[82] = true; 
			     
			    }
			    else {
			        key_pressed[82] = false;
			    }
			    
			    
			     
			     
			    //end of level fade out
			    for (var i = 0; i < blocks.length; i++){
			
			        if(blocks[i].animation){
			            fill(0, 0, 0,blocks[i].animation);
			            rect(0, 0, 600, 400);
			        }
			    }
			    //q 81
			    //w 87
			    //n 78
			     
			    
			
			     
			     if(mobile===true){
			          image(upbtn,10,340,50,50);
			         image(rightbtn,400,340,50,50);
			         image(leftbtn,500,340,50,50);
			         
			         if(mouseIsPressed&&mouseIn(10,340,50,50)) {
			          up=true;   
			         }
			         else{up=false;}
			         
			         if(mouseIsPressed&&mouseIn(400,340,50,50)) {
			          left=true;   
			         }
			         else{left=false;}
			         
			         if(mouseIsPressed&&mouseIn(500,340,50,50)) {
			          right=true;
			         }
			         else {right=false;}
			         
			     }
			     
			     
			      if(level>levels.length-2) {
			         pushMatrix();
			        image(backgr,0,0,600,400); 
			        fill(0,0,0,100);
			        rect(0,0,600,400);
			        fill(255);
			        textSize(50);
			        textAlign(CENTER,CENTER);
			        text("More levels comming soon.\nPost your levels in the\n tips and thanks in\n the levels thread and it will\n be added.",300,200);
			        popMatrix();
			     }
			};
			var scene = 0;
			var playbt = new button({
			
			x:250,
			y:150,
			w:100,
			h:100,
			onClick:function() {
			  if(mouseClick()) {
			      scene = 1;
			  }
			},
			icon:playb,
			
			});
			
			
			
			var menu = function() {
			
			
			   
			
			image(backgr,0,0,600,400);
			image(playb,playbt.x,playbt.y,playbt.w,playbt.h);
			//(message, x, y, size, colors, textWidth, textHeight)
			if(mouseIn(playbt.x,playbt.y,playbt.w,playbt.h)){cursor("pointer");}else{cursor("default");}
			noStroke();
			fill(0);
			rect(25,25,540,75);
			fill(0,0,150);
			rect(30,30,530,65);
			
			strokeWeight(1);
			pixel("The Blue Realm",40,40,40,color(0,255,255));
			
			
			playbt.draw();
			mbpc.draw();
			
			
			var th = get(0,0,600,400);
			
			};
			
			//draw the game
			draw = function() {
			   
			   if(scene===0) {
			    menu();   
			   }
			   if(scene===1) {
			    game();   
			   }
			   
			      
			       
			   
			    if(key_pressed[81]&&key_pressed[87]&&key_pressed[78]) {
			          
			          
			         
			       noStroke();
			       
			       image(backgr,0,0,600,400);
			      
			fill(0);
			rect(25,25,540,75);
			fill(0,0,150);
			rect(30,30,530,65);
			strokeWeight(1);
			pixel("The Blue Realm",40,40,40,color(0,255,255));
			
			
			image(playb,playbt.x,playbt.y,playbt.w,playbt.h);
			
			var th = get(0,0,600,400);
			       
			       image(th,0,0,600,400);
			       
			      
			       
			       fill(0);
			       rect(0,0,600,400);
			       image(th,0,75,600,250);
			       
			        pushMatrix();
			    
			         
			       
			         
			         
			          popMatrix();
			      }
			   
			};
			 
			
			
			      
			(function(spriteObj, targetObj, callback) {
			    // Version: 1.0.0
			    var SpriteLoader = {}; // Define empty object.
			    SpriteLoader.oldDraw = draw; // Save the old draw function.
			    SpriteLoader.oldFC = frameCount; // Save the old frameCount.
			    
			    SpriteLoader.index = 0; // Loading index.
			    SpriteLoader.keys = Object.keys(spriteObj); // The keys of the sprite object.
			    SpriteLoader.values = Object.values(spriteObj); // The values of the sprite object.
			    
			    frameRate(60); // Set the frameRate to the fastest it will go.
			    draw = function() { // Draw loop.
			        background(0,0); // Set the background to transparency.
			        
			        if(SpriteLoader.values[SpriteLoader.index]) {
			            if(SpriteLoader.values[SpriteLoader.index].b) { // If it's pixel art...
			                for(var y = 0; y < SpriteLoader.values[SpriteLoader.index].b.length; y++) {
			                    var p = SpriteLoader.values[SpriteLoader.index].p;
			                    var s = SpriteLoader.values[SpriteLoader.index].b[y].split("");
			                    for(var x = 0; x < s.length; x++) {
			                        fill(p[s[x]]||color(0,0));
			                        noStroke();
			                        rectMode(CORNER);
			                        rect(x*SpriteLoader.values[SpriteLoader.index].w,y*SpriteLoader.values[SpriteLoader.index].h,SpriteLoader.values[SpriteLoader.index].w,SpriteLoader.values[SpriteLoader.index].h);
			                    }
			                }
			                targetObj[SpriteLoader.keys[SpriteLoader.index]] = get(0,0,SpriteLoader.values[SpriteLoader.index].b[0].split("").length*SpriteLoader.values[SpriteLoader.index].w||1,SpriteLoader.values[SpriteLoader.index].b.length*SpriteLoader.values[SpriteLoader.index].h||1); // Save the image to the target object.
			            } else { // Otherwise...
			                (SpriteLoader.values[SpriteLoader.index].d||function(){})(); // Draw the next sprite.
			                targetObj[SpriteLoader.keys[SpriteLoader.index]] = get(0,0,SpriteLoader.values[SpriteLoader.index].w||1,SpriteLoader.values[SpriteLoader.index].h||1); // Save the image to the target object.
			            }
			        }
			        SpriteLoader.index++; // Increment the index.
			        
			        fill(0); // Black background.
			        rect(0,0,600,400);
			        textSize(20); // Text stuff.
			        fill(255);
			        textAlign(CENTER,CENTER);
			        text("Loading... "+((SpriteLoader.index/SpriteLoader.keys.length)*100).toFixed(0)+"%",600/2,400/2); // Draw the loading percentage.
			        
			        if(SpriteLoader.index >= SpriteLoader.values.length) { // If it should be done...
			            draw = SpriteLoader.oldDraw; // Reset the draw function to what it was before.
			            frameCount = SpriteLoader.oldFC; // And the frameCount.
			            (callback||function() {})(); // Run the callback if it exists.
			            SpriteLoader = undefined; // Remove the SpriteLoader object.
			        }
			    };
			}(toload, images, function() {
			    frameRate(60);
			    textAlign(LEFT, TOP);
			    noFill();
			    textSize(12);
			})); //Sprite loading library (V1) by Peter
			
			
		}
		
		runPJS(program);
		
		// Add reload button on KA --> <script>
		
	</script>
</body>

</html>
